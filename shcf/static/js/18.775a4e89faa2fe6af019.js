webpackJsonp([18],{"2fWw":function(e,t,r){var o=r("YxZy");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("44cb98a3",o,!0)},GOG9:function(e,t,r){"use strict";t.b=function(e){return o.a.fetchPost("/v1/item/selectList",e)},t.e=function(e){return o.a.fetchPost("/v1/item/update",e)},t.a=function(e){return o.a.fetchPost("/v1/item/delete",e)},t.c=function(e){return o.a.fetchPost("/v1/item/insert",e)},t.d=function(e){return o.a.fetchPost("/v1/item/select",e)};var o=r("vLgD")},OpHZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("gBtx"),l=r.n(o),i=r("GOG9"),n=r("JAmY"),s={watch:{filterText:function(e){this.$refs.tree.filter(e)}},data:function(){return{id:"",flag:0,itemTypeData:[],ruleForm:{id:"",itemCode:"",itemName:"",type:"",remarks:""},rules:{itemName:{required:!0,message:"项目名称不允许为空",trigger:"blur"}}}},mounted:function(){this.$nextTick(function(){this.id=this.$route.query.id,this.flag=l()(this.$route.query.flag),this.$route.query.type&&(this.ruleForm.type=this.$route.query.type),this.getItemType(),this.id&&this.load()})},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;1===t.flag?Object(i.c)(t.ruleForm).then(function(e){console.log("ok"),t.$router.push({path:"/base/Item"})}):2===t.flag?Object(i.e)(t.ruleForm).then(function(e){console.log("ok"),t.$router.push({path:"/base/Item"})}):console.log("error submit!!:"+t.flag)})},resetForm:function(e){this.$refs[e].resetFields()},load:function(){var e=this;Object(i.d)({id:this.id}).then(function(t){console.log(t.new),e.ruleForm=t.new,e.ruleForm.type=t.new.type})},getItemType:function(){var e=this;Object(n.a)({type:"itemType"}).then(function(t){e.itemTypeData=t.newList})}}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{title:"如果想做保养推荐，项目编码请输入力洋保养项目的ID",type:"success"}}),e._v(" "),r("el-row",[r("el-col",{attrs:{span:23}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"mini"}},[r("el-row",[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"项目编码",prop:"itemCode"}},[r("el-input",{model:{value:e.ruleForm.itemCode,callback:function(t){e.$set(e.ruleForm,"itemCode",t)},expression:"ruleForm.itemCode"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"项目名称",prop:"itemName"}},[r("el-input",{model:{value:e.ruleForm.itemName,callback:function(t){e.$set(e.ruleForm,"itemName",t)},expression:"ruleForm.itemName"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"项目类别",prop:"type"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择项目类别"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.itemTypeData,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.remarks,callback:function(t){e.$set(e.ruleForm,"remarks",t)},expression:"ruleForm.remarks"}})],1)],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var u=r("VU/8")(s,a,!1,function(e){r("2fWw")},"data-v-6651f992",null);t.default=u.exports},YxZy:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"\n.line[data-v-6651f992]{\n  text-align: center;\n}\n",""])}});