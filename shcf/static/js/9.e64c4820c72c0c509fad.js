webpackJsonp([9],{"5kFV":function(e,r,l){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=l("gBtx"),o=l.n(t),s=l("Dd8w"),a=l.n(s),n=l("SP5S"),i=l("NYxO"),u={computed:a()({},Object(i.b)(["userInfo"])),data:function(){var e=this;return{userUpd:"",flagUpdate:!1,id:"",flag:0,sexList:[{value:"男",label:"男"},{value:"女",label:"女"}],ruleForm:{clientId:"",loginName:"",password:"",name:"",sex:"",phone:"",remarks:""},rules:{password:{required:!0,message:"密码不允许为空",trigger:"blur"},loginName:[{validator:function(r,l,t){""===l&&t(new Error("请输入操作员账号")),2===e.flag&&(e.flagUpdate=!0),Object(n.d)({loginName:l,flag:e.flagUpdate}).then(function(e){e.new?t(new Error("该账号已经被使用")):t()})},trigger:"blur",required:!0}]}}},mounted:function(){this.$nextTick(function(){this.userUpd=this.$route.query.userUpd,this.id=this.$route.query.id,this.id&&this.load(),this.flag=o()(this.$route.query.flag),console.log(this.userInfo.clientId)})},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;1===r.flag?(r.ruleForm.clientId=r.userInfo.clientId,Object(n.c)(r.ruleForm).then(function(e){console.log("ok"),r.$router.go(-1)})):2===r.flag?Object(n.f)(r.ruleForm).then(function(e){console.log("ok"),r.$router.go(-1)}):console.log("error submit!!:"+r.flag)})},resetForm:function(e){this.$refs[e].resetFields()},load:function(){var e=this;Object(n.e)({id:this.id}).then(function(r){e.ruleForm=r.new})}}},c={render:function(){var e=this,r=e.$createElement,l=e._self._c||r;return l("div",[l("el-row",[l("el-col",{attrs:{span:23}},[l("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"mini"}},[e.userUpd?e._e():l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"帐号",prop:"loginName"}},[l("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.loginName,callback:function(r){e.$set(e.ruleForm,"loginName",r)},expression:"ruleForm.loginName"}})],1)],1)],1),e._v(" "),e.userUpd?e._e():l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"密码",prop:"password"}},[l("el-input",{model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"姓名",prop:"phone"}},[l("el-input",{model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{prop:"address",label:"性别"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.sex,callback:function(r){e.$set(e.ruleForm,"sex",r)},expression:"ruleForm.sex"}},e._l(e.sexList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"电话"}},[l("el-input",{model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",r)},expression:"ruleForm.phone"}})],1)],1)],1),e._v(" "),e.userUpd?e._e():l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"备注"}},[l("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.remarks,callback:function(r){e.$set(e.ruleForm,"remarks",r)},expression:"ruleForm.remarks"}})],1)],1)],1),e._v(" "),0!=e.flag?l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),l("el-button",{on:{click:function(r){e.resetForm("ruleForm")}}},[e._v("重置")])],1):e._e()],1)],1)],1)],1)},staticRenderFns:[]};var m=l("VU/8")(u,c,!1,function(e){l("DKoW")},"data-v-666deca3",null);r.default=m.exports},"7h2b":function(e,r,l){(e.exports=l("FZ+f")(!1)).push([e.i,"\n.line[data-v-666deca3]{\n  text-align: center;\n}\n",""])},DKoW:function(e,r,l){var t=l("7h2b");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);l("rjj0")("417a592a",t,!0)}});