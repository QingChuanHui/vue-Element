webpackJsonp([13],{Paoo:function(e,t,l){(e.exports=l("FZ+f")(!1)).push([e.i,"\n.eidtCarousel .line {\n  text-align: center;\n}\n.eidtCarousel .disabled .el-upload--picture-card {\n  display: none;\n}\n",""])},ikrB:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l("gBtx"),a=l.n(o),r=l("yXkw"),s=l("JAmY"),n={data:function(){return{itemTypeData:[],flag:"",id:"",model:{couponName:"",avalidDay:"",beginDate:"",endDate:"",fullMoney:0,reduceMoney:0,couponDesc:"",userRule:"",couponType:""},rules:{couponName:{required:!0,message:"请输入轮播图名称",trigger:"blur"},couponType:{required:!0,message:"请选择优惠券类型",trigger:"blur"},reduceMoney:{required:!0,message:"必填",trigger:"blur"},fullMoney:{required:!0,message:"必填",trigger:"blur"}}}},created:function(){this.$route.query.id&&(this.id=this.$route.query.id,this.load()),this.flag=a()(this.$route.query.flag),this.getItemType()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.id?Object(r.f)(t.model).then(function(e){t.$message({message:"恭喜你，修改成功",type:"success"}),t.$router.push({path:"CouponList"})}):Object(r.d)(t.model).then(function(e){t.$message({message:"恭喜你，添加成功",type:"success"}),t.$router.push({path:"CouponList"})})})},resetForm:function(e){this.$refs[e].resetFields()},load:function(){var e=this;Object(r.b)({id:this.id}).then(function(t){e.model=t.new,e.model.imgPath&&e.imagelist.push({url:e.picUrl+e.model.imgPath}),""!==e.model.areaId&&"all"!==e.model.areaId&&(e.selectAreaList=e.model.areaId.split(","))})},getItemType:function(){var e=this;Object(s.a)({type:"itemType"}).then(function(t){e.itemTypeData=t.newList})}}},i={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-row",{staticClass:"eidtCarousel"},[l("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{title:"当设置满0元时，表示这个优惠券无使用门槛",type:"success"}}),e._v(" "),l("el-col",{attrs:{span:23}},[l("el-form",{ref:"model",staticClass:"demo-ruleForm",attrs:{model:e.model,rules:e.rules,"label-width":"100px",size:"mini"}},[l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"优惠券名称",prop:"couponName"}},[l("el-input",{model:{value:e.model.couponName,callback:function(t){e.$set(e.model,"couponName",t)},expression:"model.couponName"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"有效天数",prop:"avalidDay"}},[l("el-input",{attrs:{type:"number"},model:{value:e.model.avalidDay,callback:function(t){e.$set(e.model,"avalidDay",t)},expression:"model.avalidDay"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"开始日期",prop:"beginDate"}},[l("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.model.beginDate,callback:function(t){e.$set(e.model,"beginDate",t)},expression:"model.beginDate"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"结束日期",prop:"endDate"}},[l("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.model.endDate,callback:function(t){e.$set(e.model,"endDate",t)},expression:"model.endDate"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"项目类别",prop:"couponType"}},[l("el-select",{attrs:{clearable:"",placeholder:"请选择项目类别"},model:{value:e.model.couponType,callback:function(t){e.$set(e.model,"couponType",t)},expression:"model.couponType"}},e._l(e.itemTypeData,function(e,t){return l("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"满",prop:"fullMoney"}},[l("el-input",{attrs:{type:"number"},model:{value:e.model.fullMoney,callback:function(t){e.$set(e.model,"fullMoney",t)},expression:"model.fullMoney"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"减少",prop:"reduceMoney"}},[l("el-input",{attrs:{type:"number"},model:{value:e.model.reduceMoney,callback:function(t){e.$set(e.model,"reduceMoney",t)},expression:"model.reduceMoney"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"优惠券描述",prop:"couponDesc"}},[l("el-input",{attrs:{type:"textarea"},model:{value:e.model.couponDesc,callback:function(t){e.$set(e.model,"couponDesc",t)},expression:"model.couponDesc"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"使用规则",prop:"userRule"}},[l("el-input",{attrs:{type:"textarea"},model:{value:e.model.userRule,callback:function(t){e.$set(e.model,"userRule",t)},expression:"model.userRule"}})],1)],1)],1),e._v(" "),0!=e.flag?l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("model")}}},[e._v("提交")]),e._v(" "),l("el-button",{on:{click:function(t){e.resetForm("model")}}},[e._v("重置")])],1):e._e()],1)],1)],1)},staticRenderFns:[]};var u=l("VU/8")(n,i,!1,function(e){l("wm8M")},null,null);t.default=u.exports},wm8M:function(e,t,l){var o=l("Paoo");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);l("rjj0")("5ad61b4b",o,!0)}});